<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guessing Game!</title>
    <link rel="stylesheet" href="assets/style.css">
    <script src="assets/script.js"></script>

    <style>

    </style>
</head>

<body>
    <div class="header-container">
        <h1>True or False</h1>
    </div>
    
    <div class="score-container">
       
        <div class="score-counter">Score: <span id="score-tally">0</span></div>
         <div class="high-score-counter">High Score: <span id="high-score-tally">0</span></div>
    </div>

    <div class="body-container">
        <div id="question-box">
            <p>Question:<span id="update-question"></span></p>
            
            <div id="question-response"></div>
        </div>
         <div id="true-box" class="btn">
            <p>True!</p>
        </div>
        
        <div id="false-box" class="btn">
            <p>False!</p>
        </div>

    </div>

    <script>

        const trueBtn = document.getElementById('true-box');
        const falseBtn = document.getElementById('false-box');
        const nextBtn = document.getElementById('next-question');
        const response = document.getElementById('question-response');
        const scoreTally = document.getElementById('score-tally');
 
        trueBtn.addEventListener('click', function () {
            qCheck(true)
            console.log("true button")
        });

        falseBtn.addEventListener('click', function () {
            qCheck(false)
            console.log("false button")
        });

        var currentQuestion = 0;
        var score = 0;

        var questions = [{
            "question": " The black box in a plane is black",
            "answer": false,
            "response": "False! They are actually orange"
        }, {
            "question": " Alliumphobia is a fear of garlic",
            "answer": true,
            "response": "True! Alliumphobia is indeed a fear of garlic"
        }, {
            "question": " The atomic number for lithium is 17",
            "answer": false,
            "response": "False! Lithiums atomic number is 3"

        }];

        (function () {
            fnReset();
            console.log("im working")
        })();

        function fnReset() {
            currentQuestion = 0;
            document.getElementById('update-question').innerHTML = questions[currentQuestion].question;
        }

        function qCheck(answer) {
            var questionAnswer = questions[currentQuestion].answer;
            console.log("in the right place")
            if (questionAnswer === answer) {
                // show Correct
                console.log("you were correct");
                score++;
                scoreTally.innerText = score;
                response.innerText = questions[currentQuestion].response
                setTimeout(nextQuestion, 5000)
            }
            else {
                // show incorrect and reset current score
                score = 0;
                response.innerText = questions[currentQuestion].response
                setTimeout(nextQuestion, 5000)
            }
        }


        function nextQuestion() {
            console.log("Going to text Question!")
            response.innerText = ""

            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                console.log(currentQuestion)
            } else {
                alert("Sorry no more");
            }
            document.getElementById('update-question').innerHTML = questions[currentQuestion].question;

        }


    </script>

</html>